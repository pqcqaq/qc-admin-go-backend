basePath: /api/v1
definitions:
  models.AssignRolePermissionsRequest:
    properties:
      permissionIds:
        description: 权限ID列表
        items:
          type: string
        type: array
    required:
    - permissionIds
    type: object
  models.AssignUserRoleRequest:
    properties:
      roleId:
        type: string
      userId:
        type: string
    required:
    - roleId
    - userId
    type: object
  models.AttachmentResponse:
    properties:
      bucket:
        type: string
      contentType:
        type: string
      createTime:
        type: string
      etag:
        type: string
      filename:
        type: string
      id:
        type: string
      metadata:
        additionalProperties: {}
        type: object
      path:
        type: string
      size:
        type: integer
      status:
        type: string
      storageProvider:
        type: string
      tag1:
        type: string
      tag2:
        type: string
      tag3:
        type: string
      updateTime:
        type: string
      uploadSessionId:
        type: string
      url:
        type: string
    type: object
  models.BatchAssignUsersToRoleRequest:
    properties:
      userIds:
        description: 用户ID列表
        items:
          type: string
        type: array
    required:
    - userIds
    type: object
  models.BatchRemoveUsersFromRoleRequest:
    properties:
      userIds:
        description: 用户ID列表
        items:
          type: string
        type: array
    required:
    - userIds
    type: object
  models.ConfirmUploadRequest:
    properties:
      actualSize:
        type: integer
      etag:
        type: string
      uploadSessionId:
        type: string
    required:
    - uploadSessionId
    type: object
  models.CreateAPIAuthRequest:
    properties:
      description:
        description: API描述
        type: string
      isActive:
        description: 是否启用
        type: boolean
      isPublic:
        description: 是否为公开API
        type: boolean
      metadata:
        additionalProperties: true
        description: 额外的元数据信息
        type: object
      method:
        description: HTTP方法
        type: string
      name:
        description: API名称
        type: string
      path:
        description: API路径
        type: string
      permissions:
        description: 关联的权限ID列表
        items:
          $ref: '#/definitions/models.PermissionsList'
        type: array
    required:
    - isActive
    - isPublic
    - method
    - name
    - path
    type: object
  models.CreateAttachmentRequest:
    properties:
      bucket:
        type: string
      contentType:
        type: string
      etag:
        type: string
      filename:
        type: string
      metadata:
        additionalProperties: {}
        type: object
      path:
        type: string
      size:
        minimum: 1
        type: integer
      status:
        type: string
      storageProvider:
        type: string
      tag1:
        type: string
      tag2:
        type: string
      tag3:
        type: string
      uploadSessionId:
        type: string
      url:
        type: string
    required:
    - bucket
    - contentType
    - filename
    - path
    - size
    type: object
  models.CreateChildRoleRequest:
    properties:
      description:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  models.CreateLoggingRequest:
    properties:
      code:
        minimum: 1
        type: integer
      data:
        additionalProperties: true
        type: object
      ip:
        maxLength: 45
        type: string
      level:
        enum:
        - debug
        - info
        - error
        - warn
        - fatal
        type: string
      message:
        maxLength: 500
        type: string
      method:
        maxLength: 127
        type: string
      path:
        maxLength: 255
        type: string
      query:
        maxLength: 1000
        type: string
      stack:
        maxLength: 8192
        type: string
      type:
        enum:
        - Error
        - Panic
        - manul
        type: string
      userAgent:
        maxLength: 512
        type: string
    required:
    - message
    type: object
  models.CreatePermissionRequest:
    properties:
      action:
        type: string
      description:
        type: string
      name:
        type: string
      scopeId:
        description: 权限域ID
        type: string
    required:
    - action
    - name
    type: object
  models.CreateRoleRequest:
    properties:
      description:
        type: string
      inheritsFrom:
        description: 继承的父角色ID列表
        items:
          type: string
        type: array
      name:
        type: string
    required:
    - name
    type: object
  models.CreateScanRequest:
    properties:
      content:
        description: 扫描内容
        type: string
      imageId:
        description: 关联的图片ID
        type: string
      success:
        description: 扫描是否成功
        type: boolean
    required:
    - content
    - success
    type: object
  models.CreateScopeRequest:
    properties:
      action:
        type: string
      component:
        type: string
      description:
        type: string
      disabled:
        type: boolean
      hidden:
        type: boolean
      icon:
        type: string
      name:
        type: string
      order:
        type: integer
      parentId:
        description: 父级ID
        type: string
      path:
        type: string
      permissionId:
        description: 关联的权限ID
        type: string
      redirect:
        type: string
      type:
        enum:
        - menu
        - page
        - button
        type: string
    required:
    - name
    - type
    type: object
  models.CreateUserRequest:
    properties:
      age:
        type: integer
      createTime:
        description: 创建时间
        type: string
      name:
        type: string
      sex:
        type: string
      status:
        description: 用户状态
        type: string
      updateTime:
        description: 更新时间
        type: string
    required:
    - name
    type: object
  models.HealthResponse:
    properties:
      components:
        additionalProperties:
          type: string
        type: object
      message:
        type: string
      status:
        type: string
    type: object
  models.LoginRecordResponse:
    properties:
      credentialType:
        type: string
      deviceInfo:
        type: string
      duration:
        description: 会话持续时间(秒)
        type: integer
      failureReason:
        type: string
      id:
        type: integer
      identifier:
        type: string
      ipAddress:
        type: string
      location:
        type: string
      loginTime:
        type: string
      logoutTime:
        type: string
      metadata:
        additionalProperties: true
        type: object
      sessionId:
        type: string
      status:
        type: string
      userAgent:
        type: string
      userId:
        type: integer
    type: object
  models.LoginRequest:
    properties:
      credentialType:
        description: 认证类型
        enum:
        - password
        - email
        - phone
        - oauth
        - totp
        type: string
      identifier:
        description: 标识符
        type: string
      secret:
        description: 密码（密码登录时必需）
        type: string
      verifyCode:
        description: 验证码（非密码登录时必需）
        type: string
    required:
    - credentialType
    - identifier
    type: object
  models.LoginResponse:
    properties:
      message:
        type: string
      token:
        description: JWT token (如果有的话)
        type: string
      user:
        $ref: '#/definitions/models.UserInfo'
    type: object
  models.PermissionResponse:
    properties:
      action:
        type: string
      createTime:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      scope:
        allOf:
        - $ref: '#/definitions/models.ScopeResponse'
        description: 所属权限域
      updateTime:
        type: string
    type: object
  models.PermissionWithSource:
    properties:
      permission:
        $ref: '#/definitions/models.PermissionResponse'
      source:
        description: '来源类型: "直接分配" | "角色继承"'
        type: string
      sourceRole:
        allOf:
        - $ref: '#/definitions/models.RoleResponse'
        description: 来源角色
    type: object
  models.PermissionsList:
    properties:
      action:
        type: string
      id:
        type: string
    type: object
  models.PrepareUploadRequest:
    properties:
      bucket:
        type: string
      contentType:
        type: string
      filename:
        type: string
      size:
        minimum: 1
        type: integer
      tag1:
        type: string
      tag2:
        type: string
      tag3:
        type: string
    required:
    - contentType
    - filename
    - size
    type: object
  models.RegisterRequest:
    properties:
      credentialType:
        description: 认证类型
        enum:
        - password
        - email
        - phone
        - oauth
        - totp
        type: string
      identifier:
        description: 标识符
        type: string
      secret:
        description: 密码
        type: string
      username:
        description: 用户名
        type: string
      verifyCode:
        description: 验证码（非密码注册时必需）
        type: string
    required:
    - credentialType
    - identifier
    - username
    type: object
  models.RegisterResponse:
    properties:
      message:
        type: string
      token:
        description: JWT token (如果有的话)
        type: string
      user:
        $ref: '#/definitions/models.UserInfo'
    type: object
  models.ResetPasswordRequest:
    properties:
      credentialType:
        description: 认证类型
        enum:
        - password
        - email
        - phone
        - oauth
        - totp
        type: string
      identifier:
        description: 标识符
        type: string
      newPassword:
        description: 新密码
        type: string
      oldPassword:
        description: 原密码（密码重置时必需）
        type: string
      verifyCode:
        description: 验证码（非密码重置时必需）
        type: string
    required:
    - credentialType
    - identifier
    - newPassword
    type: object
  models.ResetPasswordResponse:
    properties:
      message:
        type: string
    type: object
  models.RoleDetailedPermissionsResponse:
    properties:
      allPermissions:
        description: 所有权限
        items:
          $ref: '#/definitions/models.PermissionResponse'
        type: array
      directPermissions:
        description: 直接分配的权限
        items:
          $ref: '#/definitions/models.PermissionWithSource'
        type: array
      inheritedPermissions:
        description: 继承的权限
        items:
          $ref: '#/definitions/models.PermissionWithSource'
        type: array
      role:
        $ref: '#/definitions/models.RoleResponse'
    type: object
  models.RoleResponse:
    properties:
      createTime:
        type: string
      description:
        type: string
      id:
        type: string
      inheritedBy:
        description: 被哪些角色继承
        items:
          $ref: '#/definitions/models.RoleResponse'
        type: array
      inheritsFrom:
        description: 继承的父角色
        items:
          $ref: '#/definitions/models.RoleResponse'
        type: array
      name:
        type: string
      permissions:
        description: 角色拥有的权限
        items:
          $ref: '#/definitions/models.PermissionResponse'
        type: array
      updateTime:
        type: string
    type: object
  models.RoleTreeResponse:
    properties:
      children:
        description: 子角色
        items:
          $ref: '#/definitions/models.RoleTreeResponse'
        type: array
      createTime:
        type: string
      description:
        type: string
      id:
        type: string
      inheritsFrom:
        description: 继承的父角色
        items:
          $ref: '#/definitions/models.RoleResponse'
        type: array
      name:
        type: string
      updateTime:
        type: string
      userCount:
        description: 拥有该角色的用户数量
        type: integer
    type: object
  models.RoleUserResponse:
    properties:
      createTime:
        type: string
      id:
        type: string
      name:
        type: string
      nickname:
        type: string
      otherRoles:
        description: 除当前角色外的其他角色
        items:
          $ref: '#/definitions/models.RoleResponse'
        type: array
      updateTime:
        type: string
    type: object
  models.ScopeResponse:
    properties:
      action:
        type: string
      children:
        description: 子级权限域
        items:
          $ref: '#/definitions/models.ScopeResponse'
        type: array
      component:
        type: string
      createTime:
        type: string
      description:
        type: string
      disabled:
        type: boolean
      hidden:
        type: boolean
      icon:
        type: string
      id:
        type: string
      name:
        type: string
      order:
        type: integer
      parent:
        allOf:
        - $ref: '#/definitions/models.ScopeResponse'
        description: 父级权限域
      parentId:
        type: string
      path:
        type: string
      permission:
        allOf:
        - $ref: '#/definitions/models.PermissionResponse'
        description: 关联的权限
      redirect:
        type: string
      type:
        type: string
      updateTime:
        type: string
    type: object
  models.SendVerifyCodeRequest:
    properties:
      identifier:
        description: 标识符
        type: string
      purpose:
        description: 用途
        type: string
      senderType:
        description: 发送方式
        enum:
        - email
        - phone
        - sms
        type: string
    required:
    - identifier
    - purpose
    - senderType
    type: object
  models.SendVerifyCodeResponse:
    properties:
      message:
        type: string
    type: object
  models.UpdateAPIAuthRequest:
    properties:
      description:
        description: API描述
        type: string
      isActive:
        description: 是否启用
        type: boolean
      isPublic:
        description: 是否为公开API
        type: boolean
      metadata:
        additionalProperties: true
        description: 额外的元数据信息
        type: object
      method:
        description: HTTP方法
        type: string
      name:
        description: API名称
        type: string
      path:
        description: API路径
        type: string
      permissions:
        description: 关联的权限ID列表
        items:
          $ref: '#/definitions/models.PermissionsList'
        type: array
    required:
    - isActive
    - isPublic
    - method
    - name
    - path
    type: object
  models.UpdateAttachmentRequest:
    properties:
      bucket:
        type: string
      contentType:
        type: string
      etag:
        type: string
      filename:
        type: string
      metadata:
        additionalProperties: {}
        type: object
      path:
        type: string
      size:
        type: integer
      status:
        type: string
      storageProvider:
        type: string
      tag1:
        type: string
      tag2:
        type: string
      tag3:
        type: string
      uploadSessionId:
        type: string
      url:
        type: string
    type: object
  models.UpdateLoggingRequest:
    properties:
      code:
        minimum: 1
        type: integer
      data:
        additionalProperties: true
        type: object
      ip:
        maxLength: 45
        type: string
      level:
        enum:
        - debug
        - info
        - error
        - warn
        - fatal
        type: string
      message:
        maxLength: 500
        type: string
      method:
        maxLength: 127
        type: string
      path:
        maxLength: 255
        type: string
      query:
        maxLength: 1000
        type: string
      stack:
        maxLength: 8192
        type: string
      type:
        enum:
        - Error
        - Panic
        - manul
        type: string
      userAgent:
        maxLength: 512
        type: string
    required:
    - message
    type: object
  models.UpdatePermissionRequest:
    properties:
      action:
        type: string
      description:
        type: string
      name:
        type: string
      scopeId:
        description: 权限域ID
        type: string
    type: object
  models.UpdateRoleRequest:
    properties:
      description:
        type: string
      inheritsFrom:
        description: 继承的父角色ID列表
        items:
          type: string
        type: array
      name:
        type: string
    type: object
  models.UpdateScanRequest:
    properties:
      content:
        description: 扫描内容
        type: string
      imageId:
        description: 关联的图片ID
        type: string
      success:
        description: 扫描是否成功
        type: boolean
    required:
    - content
    - success
    type: object
  models.UpdateScopeRequest:
    properties:
      action:
        type: string
      component:
        type: string
      description:
        type: string
      disabled:
        type: boolean
      hidden:
        type: boolean
      icon:
        type: string
      name:
        type: string
      order:
        type: integer
      parentId:
        description: 父级ID
        type: string
      path:
        type: string
      permissionId:
        description: 关联的权限ID
        type: string
      redirect:
        type: string
      type:
        type: string
    type: object
  models.UpdateUserRequest:
    properties:
      age:
        type: integer
      avatarId:
        description: 头像ID
        type: string
      name:
        type: string
      sex:
        type: string
      status:
        description: 用户状态
        type: string
    type: object
  models.UserInfo:
    properties:
      age:
        description: 年龄
        type: integer
      avatar:
        description: 头像
        type: string
      createTime:
        type: string
      id:
        type: string
      name:
        type: string
      permissions:
        description: 用户权限（通过角色继承）
        items:
          $ref: '#/definitions/models.PermissionResponse'
        type: array
      roles:
        description: 用户角色
        items:
          $ref: '#/definitions/models.RoleResponse'
        type: array
      sex:
        description: 性别
        type: string
      status:
        type: string
      updateTime:
        type: string
    type: object
  models.UserResponse:
    properties:
      age:
        type: integer
      avatar:
        description: 头像
        type: string
      createTime:
        description: 创建时间
        type: string
      id:
        type: string
      name:
        type: string
      roles:
        description: 角色列表
        items:
          type: string
        type: array
      sex:
        type: string
      status:
        description: 用户状态
        type: string
      updateTime:
        description: 更新时间
        type: string
    type: object
  models.UserRoleResponse:
    properties:
      createTime:
        type: string
      id:
        type: string
      role:
        $ref: '#/definitions/models.RoleResponse'
      roleId:
        type: string
      updateTime:
        type: string
      user:
        $ref: '#/definitions/models.UserResponse'
      userId:
        type: string
    type: object
  models.VerifyCodeRequest:
    properties:
      code:
        description: 验证码
        type: string
      identifier:
        description: 标识符
        type: string
      purpose:
        description: 用途
        type: string
      senderType:
        description: 发送方式
        enum:
        - email
        - phone
        - sms
        type: string
    required:
    - code
    - identifier
    - purpose
    - senderType
    type: object
  models.VerifyCodeResponse:
    properties:
      message:
        type: string
    type: object
externalDocs:
  description: OpenAPI
  url: https://swagger.io/resources/open-api/
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: 这是一个基于Go和Gin框架的后端API服务
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Go Backend API
  version: "1.0"
paths:
  /admin/login-records:
    get:
      consumes:
      - application/json
      description: 获取系统登录记录列表（管理员权限）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: limit
        type: integer
      - description: 用户ID
        in: query
        name: user_id
        type: string
      - description: 登录状态
        enum:
        - success
        - failed
        - locked
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                properties:
                  records:
                    items:
                      $ref: '#/definitions/models.LoginRecordResponse'
                    type: array
                  total:
                    type: integer
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "403":
          description: Forbidden
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      security:
      - BearerAuth: []
      summary: 获取登录记录列表
      tags:
      - admin
  /apiauth:
    get:
      consumes:
      - application/json
      description: 获取系统中所有API认证记录的列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  type: object
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有API认证记录
      tags:
      - apiauth
    post:
      consumes:
      - application/json
      description: 创建新的API认证记录
      parameters:
      - description: API认证记录信息
        in: body
        name: apiauth
        required: true
        schema:
          $ref: '#/definitions/models.CreateAPIAuthRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建API认证记录
      tags:
      - apiauth
  /apiauth/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除API认证记录
      parameters:
      - description: API认证记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 删除API认证记录
      tags:
      - apiauth
    get:
      consumes:
      - application/json
      description: 根据API认证记录ID获取API认证记录详细信息
      parameters:
      - description: API认证记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取API认证记录
      tags:
      - apiauth
    put:
      consumes:
      - application/json
      description: 根据ID更新API认证记录信息
      parameters:
      - description: API认证记录ID
        in: path
        name: id
        required: true
        type: integer
      - description: API认证记录信息
        in: body
        name: apiauth
        required: true
        schema:
          $ref: '#/definitions/models.UpdateAPIAuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新API认证记录
      tags:
      - apiauth
  /apiauth/export:
    get:
      consumes:
      - application/json
      description: 将API认证记录导出为Excel文件
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10000
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      - description: 按名称模糊搜索
        in: query
        name: name
        type: string
      - description: 按HTTP方法过滤
        in: query
        name: method
        type: string
      - description: 按路径模糊搜索
        in: query
        name: path
        type: string
      - description: 按是否公开过滤
        in: query
        name: isPublic
        type: boolean
      - description: 按是否启用过滤
        in: query
        name: isActive
        type: boolean
      - description: 开始时间
        in: query
        name: beginTime
        type: string
      - description: 结束时间
        in: query
        name: endTime
        type: string
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel文件
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 导出API认证记录为Excel
      tags:
      - apiauth
  /apiauth/page:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取API认证记录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      - description: 按名称模糊搜索
        in: query
        name: name
        type: string
      - description: 按HTTP方法过滤
        in: query
        name: method
        type: string
      - description: 按路径模糊搜索
        in: query
        name: path
        type: string
      - description: 按是否公开过滤
        in: query
        name: isPublic
        type: boolean
      - description: 按是否启用过滤
        in: query
        name: isActive
        type: boolean
      - description: 开始时间
        in: query
        name: beginTime
        type: string
      - description: 结束时间
        in: query
        name: endTime
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取API认证记录列表
      tags:
      - apiauth
  /attachments:
    get:
      consumes:
      - application/json
      description: 获取系统中所有附件的列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  type: object
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有附件
      tags:
      - attachments
    post:
      consumes:
      - application/json
      description: 创建新的附件记录
      parameters:
      - description: 附件信息
        in: body
        name: attachment
        required: true
        schema:
          $ref: '#/definitions/models.CreateAttachmentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建附件
      tags:
      - attachments
  /attachments/{id}:
    get:
      consumes:
      - application/json
      description: 根据附件ID获取附件详细信息
      parameters:
      - description: 附件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取附件
      tags:
      - attachments
    put:
      consumes:
      - application/json
      description: 根据ID更新附件信息
      parameters:
      - description: 附件ID
        in: path
        name: id
        required: true
        type: integer
      - description: 附件信息
        in: body
        name: attachment
        required: true
        schema:
          $ref: '#/definitions/models.UpdateAttachmentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新附件
      tags:
      - attachments
  /attachments/{id}/url:
    get:
      consumes:
      - application/json
      description: 获取附件的预签名URL用于直接下载
      parameters:
      - description: 附件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                properties:
                  url:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取附件预签名URL
      tags:
      - attachments
  /attachments/confirm-upload:
    post:
      consumes:
      - application/json
      description: 确认文件已上传到S3并创建附件记录
      parameters:
      - description: 上传确认信息
        in: body
        name: upload
        required: true
        schema:
          $ref: '#/definitions/models.ConfirmUploadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 确认文件上传完成
      tags:
      - attachments
  /attachments/direct-upload:
    post:
      consumes:
      - multipart/form-data
      description: 直接上传文件到S3并创建附件记录
      parameters:
      - description: 上传的文件
        in: formData
        name: file
        required: true
        type: file
      - default: '"default-bucket"'
        description: 存储桶名称
        in: formData
        name: bucket
        type: string
      - description: 标签1
        in: formData
        name: tag1
        type: string
      - description: 标签2
        in: formData
        name: tag2
        type: string
      - description: 标签3
        in: formData
        name: tag3
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.AttachmentResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 直接上传文件表单
      tags:
      - attachments
  /attachments/paginated:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取附件列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取附件列表
      tags:
      - attachments
  /attachments/prepare-upload:
    post:
      consumes:
      - application/json
      description: 获取文件上传凭证和预签名URL
      parameters:
      - description: 上传准备信息
        in: body
        name: upload
        required: true
        schema:
          $ref: '#/definitions/models.PrepareUploadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 准备文件上传
      tags:
      - attachments
  /auth/login:
    post:
      consumes:
      - application/json
      description: 用户登录认证
      parameters:
      - description: 登录请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LoginResponse'
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 用户登录
      tags:
      - auth
  /auth/login-records:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的登录记录
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                properties:
                  records:
                    items:
                      $ref: '#/definitions/models.LoginRecordResponse'
                    type: array
                  total:
                    type: integer
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      security:
      - BearerAuth: []
      summary: 获取当前用户的登录记录
      tags:
      - auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: 用户登出，更新登录记录
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                properties:
                  message:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      security:
      - BearerAuth: []
      summary: 用户登出
      tags:
      - auth
  /auth/refresh-token:
    post:
      consumes:
      - application/json
      description: 刷新JWT Token
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                properties:
                  message:
                    type: string
                  token:
                    type: string
                type: object
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      security:
      - BearerAuth: []
      summary: 刷新Token
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: 用户注册
      parameters:
      - description: 注册请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.RegisterResponse'
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "409":
          description: Conflict
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 用户注册
      tags:
      - auth
  /auth/reset-password:
    post:
      consumes:
      - application/json
      description: 重置用户密码
      parameters:
      - description: 重置密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ResetPasswordResponse'
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 重置密码
      tags:
      - auth
  /auth/send-verify-code:
    post:
      consumes:
      - application/json
      description: 发送验证码到指定标识符
      parameters:
      - description: 发送验证码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.SendVerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SendVerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 发送验证码
      tags:
      - auth
  /auth/user-info:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.UserInfo'
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - auth
  /auth/user-menu-tree:
    get:
      consumes:
      - application/json
      description: 根据当前用户的角色和权限，返回该用户可访问的菜单树形结构
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              success:
                type: boolean
            type: object
        "401":
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      security:
      - BearerAuth: []
      summary: 获取当前用户的菜单树
      tags:
      - auth
  /auth/verify-code:
    post:
      consumes:
      - application/json
      description: 验证验证码是否正确（仅用于测试）
      parameters:
      - description: 验证验证码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.VerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 验证验证码
      tags:
      - auth
  /demo/error:
    get:
      consumes:
      - application/json
      description: 演示不同类型的错误处理机制
      parameters:
      - description: 错误类型
        enum:
        - panic
        - validation
        - database
        - notfound
        - unauthorized
        - forbidden
        - conflict
        - success
        in: query
        name: type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 演示错误处理
      tags:
      - demo
  /health:
    get:
      consumes:
      - application/json
      description: 检查服务健康状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.HealthResponse'
      summary: 健康检查
      tags:
      - health
  /loggings:
    get:
      consumes:
      - application/json
      description: 获取系统中所有日志记录的列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  type: object
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有日志记录
      tags:
      - loggings
    post:
      consumes:
      - application/json
      description: 创建新的日志记录
      parameters:
      - description: 日志记录信息
        in: body
        name: logging
        required: true
        schema:
          $ref: '#/definitions/models.CreateLoggingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建日志记录
      tags:
      - loggings
  /loggings/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除日志记录
      parameters:
      - description: 日志记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 删除日志记录
      tags:
      - loggings
    get:
      consumes:
      - application/json
      description: 根据日志记录ID获取日志记录详细信息
      parameters:
      - description: 日志记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取日志记录
      tags:
      - loggings
    put:
      consumes:
      - application/json
      description: 根据ID更新日志记录信息
      parameters:
      - description: 日志记录ID
        in: path
        name: id
        required: true
        type: integer
      - description: 日志记录信息
        in: body
        name: logging
        required: true
        schema:
          $ref: '#/definitions/models.UpdateLoggingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新日志记录
      tags:
      - loggings
  /loggings/export:
    get:
      consumes:
      - application/json
      description: 将日志记录导出为Excel文件
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10000
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      - description: 日志级别
        enum:
        - debug
        - info
        - error
        - warn
        - fatal
        in: query
        name: level
        type: string
      - description: 日志类型
        enum:
        - Error
        - Panic
        - manul
        in: query
        name: type
        type: string
      - description: 消息内容
        in: query
        name: message
        type: string
      - description: HTTP方法
        in: query
        name: method
        type: string
      - description: 请求路径
        in: query
        name: path
        type: string
      - description: IP地址
        in: query
        name: ip
        type: string
      - description: 状态码
        in: query
        name: code
        type: integer
      - description: 开始时间
        in: query
        name: beginTime
        type: string
      - description: 结束时间
        in: query
        name: endTime
        type: string
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel文件
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 导出日志记录为Excel
      tags:
      - loggings
  /loggings/page:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取日志记录列表，支持多种过滤条件
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      - description: 日志级别
        enum:
        - debug
        - info
        - error
        - warn
        - fatal
        in: query
        name: level
        type: string
      - description: 日志类型
        enum:
        - Error
        - Panic
        - manul
        in: query
        name: type
        type: string
      - description: 消息内容
        in: query
        name: message
        type: string
      - description: HTTP方法
        in: query
        name: method
        type: string
      - description: 请求路径
        in: query
        name: path
        type: string
      - description: IP地址
        in: query
        name: ip
        type: string
      - description: 状态码
        in: query
        name: code
        type: integer
      - description: 开始时间
        in: query
        name: beginTime
        type: string
      - description: 结束时间
        in: query
        name: endTime
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取日志记录列表
      tags:
      - loggings
  /rbac/permissions:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取权限列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: asc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: id
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.PermissionResponse'
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取权限列表
      tags:
      - rbac-permissions
    post:
      consumes:
      - application/json
      description: 创建新的权限
      parameters:
      - description: 权限信息
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/models.CreatePermissionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                $ref: '#/definitions/models.PermissionResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建权限
      tags:
      - rbac-permissions
  /rbac/permissions/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除权限
      parameters:
      - description: 权限ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 删除权限
      tags:
      - rbac-permissions
    get:
      consumes:
      - application/json
      description: 根据权限ID获取权限详细信息
      parameters:
      - description: 权限ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.PermissionResponse'
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取权限
      tags:
      - rbac-permissions
    put:
      consumes:
      - application/json
      description: 根据ID更新权限信息
      parameters:
      - description: 权限ID
        in: path
        name: id
        required: true
        type: integer
      - description: 权限信息
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/models.UpdatePermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.PermissionResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新权限
      tags:
      - rbac-permissions
  /rbac/permissions/all:
    get:
      consumes:
      - application/json
      description: 获取系统中所有权限的列表（不分页）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  $ref: '#/definitions/models.PermissionResponse'
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有权限
      tags:
      - rbac-permissions
  /rbac/roles:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取角色列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: asc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: id
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.RoleResponse'
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取角色列表
      tags:
      - rbac-roles
    post:
      consumes:
      - application/json
      description: 创建新的角色
      parameters:
      - description: 角色信息
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/models.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                $ref: '#/definitions/models.RoleResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建角色
      tags:
      - rbac-roles
  /rbac/roles/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除角色
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 删除角色
      tags:
      - rbac-roles
    get:
      consumes:
      - application/json
      description: 根据角色ID获取角色详细信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.RoleResponse'
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取角色
      tags:
      - rbac-roles
    put:
      consumes:
      - application/json
      description: 根据ID更新角色信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 角色信息
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/models.UpdateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.RoleResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新角色
      tags:
      - rbac-roles
  /rbac/roles/{id}/parents/{parentId}:
    delete:
      consumes:
      - application/json
      description: 解除指定角色对某个父角色的继承关系
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 父角色ID
        in: path
        name: parentId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 解除父角色依赖
      tags:
      - rbac-roles
    post:
      consumes:
      - application/json
      description: 为指定角色添加父角色继承关系
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 父角色ID
        in: path
        name: parentId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 添加父角色依赖
      tags:
      - rbac-roles
  /rbac/roles/{id}/permissions:
    post:
      consumes:
      - application/json
      description: 为角色分配权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 权限ID列表
        in: body
        name: permissions
        required: true
        schema:
          $ref: '#/definitions/models.AssignRolePermissionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分配角色权限
      tags:
      - rbac-roles
  /rbac/roles/{id}/permissions/{permissionId}:
    delete:
      consumes:
      - application/json
      description: 撤销角色的指定权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 权限ID
        in: path
        name: permissionId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 撤销角色权限
      tags:
      - rbac-roles
  /rbac/roles/{id}/permissions/assignable:
    get:
      consumes:
      - application/json
      description: 获取角色可以分配的权限（排除已有的直接权限和继承权限）
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.PermissionResponse'
                type: array
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取可分配的权限
      tags:
      - rbac-roles
  /rbac/roles/{id}/permissions/detailed:
    get:
      consumes:
      - application/json
      description: 获取角色的详细权限信息，区分直接分配和继承的权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.RoleDetailedPermissionsResponse'
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取角色详细权限信息
      tags:
      - rbac-roles
  /rbac/roles/{id}/users/batch:
    delete:
      consumes:
      - application/json
      description: 批量从指定角色移除用户
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户ID列表
        in: body
        name: users
        required: true
        schema:
          $ref: '#/definitions/models.BatchRemoveUsersFromRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 批量从角色移除用户
      tags:
      - rbac-roles
    post:
      consumes:
      - application/json
      description: 批量将用户分配到指定角色
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户ID列表
        in: body
        name: users
        required: true
        schema:
          $ref: '#/definitions/models.BatchAssignUsersToRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 批量分配用户到角色
      tags:
      - rbac-roles
  /rbac/roles/{parentId}/children:
    post:
      consumes:
      - application/json
      description: 在指定父角色下创建子角色，自动建立继承关系
      parameters:
      - description: 父角色ID
        in: path
        name: parentId
        required: true
        type: integer
      - description: 子角色信息
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/models.CreateChildRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                $ref: '#/definitions/models.RoleResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建子角色
      tags:
      - rbac-roles
  /rbac/roles/all:
    get:
      consumes:
      - application/json
      description: 获取系统中所有角色的列表（不分页）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  $ref: '#/definitions/models.RoleResponse'
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有角色
      tags:
      - rbac-roles
  /rbac/roles/tree:
    get:
      consumes:
      - application/json
      description: 获取角色的层级树形结构，包含用户统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.RoleTreeResponse'
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取角色树形结构
      tags:
      - rbac-roles
  /rbac/scopes:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取权限域列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: asc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: order
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.ScopeResponse'
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取权限域列表
      tags:
      - rbac-scopes
    post:
      consumes:
      - application/json
      description: 创建新的权限域
      parameters:
      - description: 权限域信息
        in: body
        name: scope
        required: true
        schema:
          $ref: '#/definitions/models.CreateScopeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                $ref: '#/definitions/models.ScopeResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建权限域
      tags:
      - rbac-scopes
  /rbac/scopes/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除权限域
      parameters:
      - description: 权限域ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 删除权限域
      tags:
      - rbac-scopes
    get:
      consumes:
      - application/json
      description: 根据权限域ID获取权限域详细信息
      parameters:
      - description: 权限域ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.ScopeResponse'
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取权限域
      tags:
      - rbac-scopes
    put:
      consumes:
      - application/json
      description: 根据ID更新权限域信息
      parameters:
      - description: 权限域ID
        in: path
        name: id
        required: true
        type: integer
      - description: 权限域信息
        in: body
        name: scope
        required: true
        schema:
          $ref: '#/definitions/models.UpdateScopeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                $ref: '#/definitions/models.ScopeResponse'
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新权限域
      tags:
      - rbac-scopes
  /rbac/scopes/all:
    get:
      consumes:
      - application/json
      description: 获取系统中所有权限域的列表（不分页）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  $ref: '#/definitions/models.ScopeResponse'
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有权限域
      tags:
      - rbac-scopes
  /rbac/scopes/tree:
    get:
      consumes:
      - application/json
      description: 获取权限域的树形结构数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取权限域树形结构
      tags:
      - rbac-scopes
  /rbac/user-roles:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取用户角色关联列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      - description: 按用户ID搜索
        in: query
        name: userId
        type: string
      - description: 按角色ID搜索
        in: query
        name: roleId
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.UserRoleResponse'
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取用户角色关联列表
      tags:
      - rbac-user-roles
    post:
      consumes:
      - application/json
      description: 为指定用户分配角色
      parameters:
      - description: 用户角色分配信息
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/models.AssignUserRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 为用户分配角色
      tags:
      - rbac-user-roles
  /rbac/user-roles/{userID}/permissions:
    get:
      consumes:
      - application/json
      description: 获取用户通过角色继承的所有权限
      parameters:
      - description: 用户ID
        in: path
        name: userID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  $ref: '#/definitions/models.PermissionResponse'
                type: array
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取用户的所有权限
      tags:
      - rbac-user-roles
  /rbac/user-roles/{userID}/permissions/{permissionID}/check:
    get:
      consumes:
      - application/json
      description: 检查用户是否拥有指定权限
      parameters:
      - description: 用户ID
        in: path
        name: userID
        required: true
        type: integer
      - description: 权限ID
        in: path
        name: permissionID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              has_permission:
                type: boolean
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 检查用户权限
      tags:
      - rbac-user-roles
  /rbac/user-roles/{userID}/roles:
    get:
      consumes:
      - application/json
      description: 获取指定用户拥有的所有角色
      parameters:
      - description: 用户ID
        in: path
        name: userID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  $ref: '#/definitions/models.RoleResponse'
                type: array
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取用户的所有角色
      tags:
      - rbac-user-roles
  /rbac/user-roles/{userID}/roles/{roleID}:
    delete:
      consumes:
      - application/json
      description: 撤销指定用户的角色
      parameters:
      - description: 用户ID
        in: path
        name: userID
        required: true
        type: integer
      - description: 角色ID
        in: path
        name: roleID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 撤销用户角色
      tags:
      - rbac-user-roles
  /rbac/user-roles/roles/{id}/users:
    get:
      consumes:
      - application/json
      description: 获取拥有指定角色的用户列表，支持分页和搜索
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 搜索关键字
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.RoleUserResponse'
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取拥有指定角色的用户
      tags:
      - rbac-roles
  /rbac/user-roles/roles/{roleID}/users:
    get:
      consumes:
      - application/json
      description: 获取拥有指定角色的所有用户列表
      parameters:
      - description: 角色ID
        in: path
        name: roleID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  $ref: '#/definitions/models.UserResponse'
                type: array
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取拥有指定角色的所有用户
      tags:
      - rbac-user-roles
  /scans:
    get:
      consumes:
      - application/json
      description: 获取系统中所有扫描记录的列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  type: object
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有扫描记录
      tags:
      - scans
    post:
      consumes:
      - application/json
      description: 创建新的扫描记录
      parameters:
      - description: 扫描记录信息
        in: body
        name: scan
        required: true
        schema:
          $ref: '#/definitions/models.CreateScanRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建扫描记录
      tags:
      - scans
  /scans/{id}:
    get:
      consumes:
      - application/json
      description: 根据扫描记录ID获取扫描记录详细信息
      parameters:
      - description: 扫描记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取扫描记录
      tags:
      - scans
    put:
      consumes:
      - application/json
      description: 根据ID更新扫描记录信息
      parameters:
      - description: 扫描记录ID
        in: path
        name: id
        required: true
        type: integer
      - description: 扫描记录信息
        in: body
        name: scan
        required: true
        schema:
          $ref: '#/definitions/models.UpdateScanRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新扫描记录
      tags:
      - scans
  /scans/export:
    get:
      consumes:
      - application/json
      description: 将扫描记录导出为Excel文件
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10000
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel文件
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 导出扫描记录为Excel
      tags:
      - scans
  /scans/page:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取扫描记录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取扫描记录列表
      tags:
      - scans
  /users:
    get:
      consumes:
      - application/json
      description: 获取系统中所有用户的列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              count:
                type: integer
              data:
                items:
                  type: object
                type: array
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 获取所有用户
      tags:
      - users
    post:
      consumes:
      - application/json
      description: 创建新用户
      parameters:
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 创建用户
      tags:
      - users
  /users/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除用户
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 删除用户
      tags:
      - users
    get:
      consumes:
      - application/json
      description: 根据用户ID获取用户详细信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 根据ID获取用户
      tags:
      - users
    put:
      consumes:
      - application/json
      description: 根据ID更新用户信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 更新用户
      tags:
      - users
  /users/{id}/avatar/{attachment_id}:
    put:
      consumes:
      - application/json
      description: 设置用户头像
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 附件ID
        in: path
        name: attachment_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 设置用户头像
      tags:
      - users
  /users/page:
    get:
      consumes:
      - application/json
      description: 根据分页参数获取用户列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: desc
        description: 排序方式
        in: query
        name: order
        type: string
      - default: create_time
        description: 排序字段
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              pagination:
                type: object
              success:
                type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
        "500":
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
              success:
                type: boolean
            type: object
      summary: 分页获取用户列表
      tags:
      - users
securityDefinitions:
  BasicAuth:
    type: basic
swagger: "2.0"
