# 数据库配置示例文件
# 这个文件展示了如何配置不同类型的数据库
env:
  name: demo

config:
  import:
    - file:configs/${env.name}/db.yaml
    - file:configs/${env.name}/email.yaml
    - file:configs/${env.name}/openai.yaml
    - file:configs/${env.name}/redis.yaml
    - file:configs/${env.name}/s3.yaml
    - file:configs/${env.name}/sms.yaml

# =======================
# SQLite 配置
# =======================
# database:
#   driver: "sqlite3"
#   dsn: "file:ent.db?cache=shared&_fk=1"

# =======================
# MySQL 配置
# =======================
# database:
#   driver: "mysql"
#   dsn: "user:password@tcp(localhost:3306)/database_name?charset=utf8mb4&parseTime=True&loc=Local"

# =======================
# PostgreSQL 配置
# =======================

# database:
#   driver: "postgres"
#   dsn: "host=localhost user=qc_admin password=qc_admin123 dbname=qc_admin port=5432 sslmode=disable TimeZone=Asia/Shanghai"

# =======================
# ClickHouse 配置
# =======================
# database:
#   driver: "clickhouse"
#   dsn: "tcp://localhost:9000?database=default&username=default&password="

# =======================
# SQL Server 配置
# =======================
# database:
#   driver: "sqlserver"
#   dsn: "sqlserver://username:password@localhost:1433?database=database_name"

# =======================
# Oracle 配置
# =======================
# database:
#   driver: "godror"
#   dsn: "oracle://username:password@localhost:1521/XE"

# 开发环境配置示例
server:
  port: "localhost:8080"
  mode: "release"  # gin模式: debug, release, test
  debug: true    # 开发环境启用debug模式，允许所有跨域
  prefix: "/api"  # API前缀
  cors:
    enabled: true
    allow_all_origins: true  # 开发环境允许所有来源
    allow_methods:
      - "GET"
      - "POST" 
      - "PUT"
      - "DELETE"
      - "OPTIONS"
      - "HEAD"
      - "PATCH"
    allow_headers:
      - "*"  # 开发环境允许所有请求头
    expose_headers: 
      - "*"  # 开发环境暴露所有响应头
    allow_credentials: true
    max_age: 86400
  middleware:
    delay:
      enabled: false   # 是否启用延迟中间件
      min: 0s          # 最小延迟时间
      max: 1s          # 最大延迟时间
  components:
    messaging:
      enabled: true
      group_name: "qc_admin_default_group"
      stream_key: "qc_admin_stream"
      max_retries: 3
      read_timeout: 2000    # 2秒
      read_count: 10
      idle_timeout: 30000   # 30秒

logging:
  level: "debug"   # 开发环境使用debug级别
  prefix: "DEV"    # 开发环境前缀

